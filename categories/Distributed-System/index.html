<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="browsermode" content="application">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="CyannyLive">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name= "format-detection" content="telephone=no" />


  <meta name="subtitle" content="ML and Big Data">


  <meta name="description" content="Wisdom comes from inside">




<link rel="apple-touch-startup-image" media="(device-width: 375px)" href="assets/apple-launch-1125x2436.png">
<link rel="apple-touch-startup-image" media="(orientation: landscape)" href="assets/apple-touch-startup-image-2048x1496.png">
<link rel="stylesheet" href="/style/style.css">
<script>
  var nlviconfig = {
    title: "CyannyLive",
    author: "Cyanny Liang",
    baseUrl: "/",
    theme: {
      scheme: "banderole",
      lightbox: true,
      animate: true,
      search: true,
      friends: false,
      reward: false,
      pjax: false,
      lazy: true,
      toc: true
    }
  }
</script>




    <link rel="stylesheet" href="/script/lib/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">










<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-40624708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-40624708-1');
</script>





    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<style>
@font-face {
  font-family: "Allura";
  src: url('/font/allura/allura.ttf');
}
</style>

  <title>
  
</title>
</head>
<body>
  <div class="container">
    <header class="header" id="header">
  <div class="header-wrapper">
    <div class="logo">
  <div class="logo-inner syuanpi tvIn" style="display:none;">
    <h1><a href="/">CyannyLive</a></h1>
    
      <span id="subtitle">ML and Big Data</span>
    
  </div>
</div>

    <nav class="main-nav">
  
  <ul class="main-nav-list syuanpi tvIn">
  
    <li class="menu-item">
      <a href="javascript:;" id="search-btn" aria-label="Search">
        <i class="iconfont icon-search"></i>
      </a>
    </li>
  
  
  
    
  
    <li class="menu-item">
      <a href="/" id="article">
        <span class="base-name">
          
            ARTICLE
          
        </span>
      </a>
    </li>
  
  
    
  
    <li class="menu-item">
      <a href="/archives" id="archives">
        <span class="base-name">
          
            ARCHIVES
          
        </span>
      </a>
    </li>
  
  
    
  
    <li class="menu-item">
      <a href="javascript:;" id="tags">
        <span class="base-name">
          
            TAGS
          
        </span>
      </a>
    </li>
  
  
    
  
    <li class="menu-item">
      <a href="/about" id="about">
        <span class="base-name">
          
            ABOUT
          
        </span>
      </a>
    </li>
  
  
  </ul>
  
</nav>

  </div>
</header>
<div class="mobile-header" id="mobile-header">
  <div class="mobile-header-nav">
    <div class="mobile-header-item" id="mobile-left">
      <div class="header-menu-item">
        <div class="header-menu-line"></div>
      </div>
    </div>
    <h1 class="mobile-header-title">
      <a href="/">CyannyLive</a>
    </h1>
    <div class="mobile-header-item"></div>
  </div>
  <div class="mobile-header-body">
    <ul class="mobile-header-list">
      
        <li class="mobile-nav-item syuanpi fadeInRightShort back-0">
          <a href="/" >
            
              ARTICLE
            
          </a>
        </li>
      
        <li class="mobile-nav-item syuanpi fadeInRightShort back-1">
          <a href="/archives" >
            
              ARCHIVES
            
          </a>
        </li>
      
        <li class="mobile-nav-item syuanpi fadeInRightShort back-2">
          <a href="javascript:;" id="mobile-tags">
            
              TAGS
            
          </a>
        </li>
      
        <li class="mobile-nav-item syuanpi fadeInRightShort back-3">
          <a href="/about" >
            
              ABOUT
            
          </a>
        </li>
      
    </ul>
  </div>
</div>



    <div class="container-inner" style="display:none;">
      <main class="main" id="main">
        <div class="main-wrapper">
          
    
  <div class="archive syuanpi fadeInRightShort" id="archive">
    
      <span class="archive-title"> now in </span>
      <span class="archive-name"> — Distributed System</span>
    
      
      
        
          </section>
        
        <div class="archive-post">
          <div class="archive-post-content">
            
              <h3 id="Petri网"><a href="#Petri网" class="headerlink" title="Petri网"></a>Petri网</h3><h4 id="1-以生产者消费者为例子"><a href="#1-以生产者消费者为例子" class="headerlink" title="1. 以生产者消费者为例子"></a>1. 以生产者消费者为例子</h4><p>Petri三元组PN=(P,T,F)即，库所，变迁，转换弧</p>
<p>Preset表示前集,如果x是变迁，那么preset表示某个变迁的输入库所集合，如果x是某个库所那么preset表示某个库所的输入变迁。</p>
<p>Postset表示后集，如果x是变迁，那么postset表示某个变迁的输出库所集合，如果x是库所，那么postset表示某个库所的输出变迁集合。[more…]<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System14.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System14-580x398.png" alt="Distributed System14"></a></p>
<h4 id="2-Marking，-Enable，-Firing"><a href="#2-Marking，-Enable，-Firing" class="headerlink" title="2. Marking， Enable， Firing"></a>2. Marking， Enable， Firing</h4><p>M(p)表示当前所有库所的Token数量, 是一个快照.<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System16.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System16-580x290.png" alt="Distributed System16"></a><br>通过这个图，可以很简单地看出 M(p)的计算等式.<br>当库所的token都到位后，变迁就enable了，如上图左边t2是enable的, t1没有enable， 如果Firing点火，就会转到另一个Marking下，如图中右边的图是点火后的Marking。</p>
<h3 id="3-Handle"><a href="#3-Handle" class="headerlink" title="3.Handle"></a>3.Handle</h3><p>PP—handled : 某一个Place到另一个Place有两条不相交的路径</p>
<p>TT handled：某一个Transition和另一个Transition有两条不相交的路径</p>
<p>PT—handled：某一个Place到另一个Transition有两条不相交的路径</p>
<p>TP—handled：某一个Transition到另一个Place有两条不相交的路径</p>
<p>Well-handled：只有TT和PP，没有PT，TP。 因为PT会有死锁的风险， TP会造出某一个Place内部的Token无限增长</p>
<h3 id="4-State-Machine和Marked-Graph"><a href="#4-State-Machine和Marked-Graph" class="headerlink" title="4.State Machine和Marked Graph"></a>4.State Machine和Marked Graph</h3><p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System17.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System17-580x349.png" alt="Distributed System17"></a></p>
<ul>
<li>Marked Graph：库所只有单个输入和单个输出</li>
<li>State Machine: 每个变迁只有单个输入和单个输出，这是一个有限状态机</li>
<li>T-component：如果一个大的Petri可以找到一个子网符合marked graph的要求，就是 T-component, 如果所有的T-component的集合可以覆盖整个Petri网，就是T-coverability。</li>
<li>P-component：是一个大的网络中的一个Petri子网，满足state machine的，如所有的P-component可以覆盖整个Petri网，则称Petri网P-coverability</li>
</ul>
<h3 id="5-活性和有界性"><a href="#5-活性和有界性" class="headerlink" title="5. 活性和有界性"></a>5. 活性和有界性</h3><ul>
<li>活性：从M0状态出发，对于任何一个M和t转换后的M’，可以让任何变迁T有可能点火enable.什么是不活呢，就是死锁，但是不死锁，不等价于活性</li>
<li>有界性：不论状态如何变化，token数量都不会无限增长，保持在一定数量</li>
<li>Petri是well-formed的：存在M0使这个Petri网有活性并且有界</li>
</ul>
<h3 id="6-Free-choice-structure"><a href="#6-Free-choice-structure" class="headerlink" title="6. Free-choice structure"></a>6. Free-choice structure</h3><p>自由选择结构：如果两个输入库所交集不为空，蕴含两个输入库所相等</p>
<p>t1和t2是对等的选择关系.</p>
<p>自由选择结构可以表达并发关系和同步关系</p>
<p>给定一个自由选择结构，可以很好地决定它的活性和有界性。</p>
<h3 id="7-哲学家吃通心粉"><a href="#7-哲学家吃通心粉" class="headerlink" title="7. 哲学家吃通心粉"></a>7. 哲学家吃通心粉</h3><p>有五个哲学家围坐在一圆桌旁，桌子中央有一盘通心面，每人面前有一只空盘子，每两人之间放一把叉子。每个哲学家思考、饥饿、然后，欲吃通心面。为了吃面，每个哲学家必须获得两把叉子，且每人只能直接从自己左边或右边去取叉子。</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System15.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System15-580x355.png" alt="Distributed System15"></a></p>
<h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part1/" title="分布式系统总结part1" target="_blank" rel="external">分布式系统总结part1 中间件，进程迁移，移动通信失效，名称解析，移动实体定位</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part2/" title="分布式系统总结part2" target="_blank" rel="external">分布式系统总结part2 Lamport同步与向量时间戳，两大选举算法，三大互斥算法</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part3/" title="分布式系统总结part3" target="_blank" rel="external">分布式系统总结part3 复制和一致性(以数据和以客户为中心的一致性)，容错（拜占庭将军问题，两阶段与三阶段提交）</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part4/" title="分布式系统总结part4" target="_blank" rel="external">分布式系统总结part4 Petri网解决哲学家问题和生产者、消费者问题</a></p>

            
          </div>
          <div class="archive-post-info">
            <time class="archive-post-time">
              2013-11-24
            </time>
            <a  class="archive-post-link" href="/2013/11/24/distributed-system-review-part4/">
              分布式系统总结part4
            </a>
          </div>
        </div>
      
        
          </section>
        
        <div class="archive-post">
          <div class="archive-post-content">
            
              <h2 id="复制和一致性"><a href="#复制和一致性" class="headerlink" title="复制和一致性"></a>复制和一致性</h2><p>数据的复制是为了提高性能和可靠性，但是我们需要保持各个副本的一致性：</p>
<p>问题一： 数据更新的实际分发问题，它需要关心副本的位置，以及如何在副本之间传播更新。</p>
<p>问题二：如何保持多个副本的一致性[more…]</p>
<h3 id="以数据为中心的一致性"><a href="#以数据为中心的一致性" class="headerlink" title="以数据为中心的一致性"></a>以数据为中心的一致性</h3><h4 id="1-严格的一致性"><a href="#1-严格的一致性" class="headerlink" title="1. 严格的一致性"></a>1. 严格的一致性</h4><p>(1)条件：所有访问按绝对时间排序，数据项x的任何读操作将返回最近一次对x的写操作的结果所对应的值。</p>
<p>(2)要求：所有写操作是瞬间可见的，系统维持一个绝对的全局时间顺序，如果发生写操作，后续的读操作都会得到最新的写入的值。</p>
<p>(3)缺点：依赖于绝对的全局时间，分布式系统中为每个操作分配准确的全局时间是不可能的，一般是将时间分割成一系列连续的、不重叠的时间间隔，保证没个时间间隔内最多只发生一个单一操作。<br>精确的定义最后一次写操作是困难的，如图可以看到严格一致性<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System02.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System02.png" alt="Distributed System02"></a></p>
<h4 id="2-线性化和顺序的一致性"><a href="#2-线性化和顺序的一致性" class="headerlink" title="2.线性化和顺序的一致性"></a>2.线性化和顺序的一致性</h4><p>(1)顺序一致性</p>
<p>条件：所有进程以相同顺序看到所有的共享访问，访问不按时间排序。任何执行结果都是相同的，就好像所有进程对数据存储的读、写操作按照某种序列顺序执行的，并且每个进程的操作按照程序所定制的顺序出现在这个序列中。</p>
<p>缺点：严重的性能问题，对于任何的顺序一致性存储，改变协议以提高读操作的性能必将降低写操作的性能，反之亦然。<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System03.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System03-580x350.png" alt="Distributed System03"></a><br>(2)线性化一致性</p>
<p>条件：所有进程以相同顺序看到所有的共享访问，访问根据(并非唯一的)全局时间戳排序。</p>
<p>在实际应用中，线性化主要用于开发算法的形式验证。关于根据时间戳维护顺序的附加限制使得线性化的实现比顺序一致性的实现开销更大。 </p>
<h4 id="3-因果一致性"><a href="#3-因果一致性" class="headerlink" title="3.因果一致性"></a>3.因果一致性</h4><p>条件：是一种弱化的顺序一致性模型，所有进程必须以相同的顺序看到具有潜在因果关系的写操作。不同机器上的进程可以以不同的顺序被看到并发的写操作.</p>
<p>当一个读操作后面跟着一个写操作时，这两个事件就具有潜在的因果关系。</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System04.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System04-580x394.png" alt="Distributed System04"></a></p>
<h4 id="4-FIFO一致性"><a href="#4-FIFO一致性" class="headerlink" title="4.FIFO一致性"></a>4.FIFO一致性</h4><p>条件：所有进程以某个单一进程(有两个以上的写操作)提出写操作的顺序看到这些写操作，但是不同进程可以以不同的顺序看到不同的进程提出的写操作。</p>
<p>优点：容易实现，不需要保证不同进程看到相同的写操作顺序，除非两个以上的写操作是同一个进程提出的。这种情况下，写操作必须按顺序达到。</p>
<p>缺点：仍然对许多应用存在不必要的限制，因为这些应用需要从任何位置都可以看到按顺序看到某个单一进程所产生的写操作。同时并不是所有的应用程序都要求看到所有的写操作。这就引入了弱一致性。</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System05.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System05.png" alt="Distributed System05"></a></p>
<h4 id="5-弱一致性"><a href="#5-弱一致性" class="headerlink" title="5.弱一致性"></a>5.弱一致性</h4><p>条件：引入同步变量，只有执行一次同步，共享数据才能保持一致。  </p>
<p>a)对数据存储所关联的同步变量的访问是顺序一致的；b)每个拷贝完成所有先前执行的写操作之前，不允许对同步变量进行任何操作；c)所有先前对同步变量执行的操作都执行完毕之前，不允许对数据项进行任何读或者写操作。</p>
<p>特点：弱一致性是在一组操作，而非单个操作上强迫执行顺序一致性。同步变量用于划分操作的组。</p>
<p>缺点：即当同步变量被访问时，数据存储不知道此次访问是因为进程已经结束对数据存储的写操作还是因为进程将开始读数据而进行的。我们需要区分进程进入临界区和离开临界区的区别，引入了释放一致性。 </p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System06.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System06-580x347.png" alt="Distributed System06"></a></p>
<h4 id="6-释放一致性"><a href="#6-释放一致性" class="headerlink" title="6.释放一致性"></a>6.释放一致性</h4><p>条件：退出临界区时，让共享数据保持一致，提供两种类型的同步变量。获取(acquire) 操作是用于通知数据存储进程进入临界区的操作，而释放(release)操作是表明进程刚刚离开临界区的操作。</p>
<ul>
<li>对共享数据执行读操作或写操作之前，所有进程先前执行的获取操作都必须已经成功完成；</li>
<li>在释放操作被允许执行前，所有进程先前执行的读操作和写操作都必须已经完成；</li>
<li>对同步变量的访问是FIFO一致的(不需要顺序一致)</li>
</ul>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System07.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System07.png" alt="Distributed System07"></a></p>
<h4 id="7-入口一致性"><a href="#7-入口一致性" class="headerlink" title="7.入口一致性"></a>7.入口一致性</h4><p>条件：它需要程序员(或编译器)在每个临界区的开始和结束处分别使用获取和释放操作，入口一致性要求每个普通的共享数据项都要与某种同步变量(如锁或障碍)关联。即让进程在进入临界区时，让属于同一临界区的共享数据保持一致。</p>
<p>优点：第一，将一系列共享数据项与各自的同步变量关联起来可以减少获取和释放一个同步变量所带来的额外开销。因为只有少数的数据项需要同步。第二，增加了并行度：这也使得多个包含不同共享数据的临界区可以同时执行</p>
<p>缺点：第一，同步变量和共享数据的关联带来了额外的复杂性和负载，程序设计可能更加复杂，容易出错。第二，关于入口一致性的一个程序设计问题是如何正确地将数据与同步变量关联起来。解决这个问题的一种方法是使用分布式的共享对象，向用户屏蔽低层的同步细节。</p>
<h4 id="以数据为中心的一致性的比较"><a href="#以数据为中心的一致性的比较" class="headerlink" title="以数据为中心的一致性的比较"></a>以数据为中心的一致性的比较</h4><p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System18.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System18-580x276.png" alt="Distributed System18"></a><br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System19.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System19-580x222.png" alt="Distributed System19"></a></p>
<h3 id="以客户为中心的一致性模型"><a href="#以客户为中心的一致性模型" class="headerlink" title="以客户为中心的一致性模型"></a>以客户为中心的一致性模型</h3><h4 id="1-最终一致性"><a href="#1-最终一致性" class="headerlink" title="1. 最终一致性"></a>1. 最终一致性</h4><p>条件： 没有更新操作时，所有副本逐渐成为相互完全相同的拷贝。最终一致性实际上只要求更新操作被保证传播到所有副本</p>
<p>优点：开销小</p>
<p>缺点：移动用户访问分布式数据库的不同副本时，如果副本没有更新，会出现不一致。</p>
<h4 id="2-单调读"><a href="#2-单调读" class="headerlink" title="2. 单调读"></a>2. 单调读</h4><p>条件：总是读最新值，如果一个进程读取数据x的值，那么该进程对执行任何后续读操作将总是得到第一次读取的那个值或更新的值。<br>如果一个进程已经在t时刻看到x的值，那么以后他不再会看到较老的版本的x的值。</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System08.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System08-580x359.png" alt="Distributed System08"></a></p>
<h4 id="3-单调写"><a href="#3-单调写" class="headerlink" title="3. 单调写"></a>3. 单调写</h4><p>条件：总是在最新的拷贝上写，一个进程对数据项x执行的写操作必须在该进程对x执行任何后续写操作之前完成，保证写操作以正确的顺序传播到数据存储的所有拷贝。<br>在单调写一致性的定义中，同一进程的写操作的执行顺序与这些操作的启动顺序相同。</p>
<p>比较：注意，单调写一致性与数据为中心的FIFO一致性相似。FIFO一致性的本质是，同一进程执行的写操作必须在任何地方以正确的顺序执行。</p>
<p>这一顺序限制也适用于单调写一致性，只是我们这里考虑的是仅为单一进程维持的一致性，而不是为许多并发进程维持的一致性。</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System09.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System09-580x382.png" alt="Distributed System09"></a></p>
<h3 id="4-写后读"><a href="#4-写后读" class="headerlink" title="4.写后读"></a>4.写后读</h3><p>条件：一个进程对数据项x执行一次写操作的结果总是会被该进程对x执行的后续读操作看见。 一个写操作总是在同一进程执行的后续读操作之前完成，而不管这个后续的读操作发生在什么位置。 </p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System10.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System10-580x344.png" alt="Distributed System10"></a></p>
<h3 id="5-读后写"><a href="#5-读后写" class="headerlink" title="5.读后写"></a>5.读后写</h3><p>条件：同一个进程对数据项x执行的读操作之后的写操作，保证发生在与x读取值相同或比之更新的值上。进程对数据项上x所执行的任何后续的写操作都会在x的拷贝上执行，而该拷贝是用该进程最近读取的值更新的。</p>
<p>在读取的最新值上进行写操作。<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System11.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System11-580x340.png" alt="Distributed System11"></a></p>
<h2 id="容错"><a href="#容错" class="headerlink" title="容错"></a>容错</h2><h3 id="1-两军问题"><a href="#1-两军问题" class="headerlink" title="1. 两军问题"></a>1. 两军问题</h3><p>两军的通信信道不稳定，需要达成一致才能发动攻击，无论双方发了多少次确认，都不能确定通信兵是否把自己的消息带给对方，永远不会达成协议。<br>在不可靠传输的条件下，即使是无错误的进程，在两个进程之间达成协议也是不可能的。</p>
<h3 id="2-拜占庭将军问题"><a href="#2-拜占庭将军问题" class="headerlink" title="2. 拜占庭将军问题"></a>2. 拜占庭将军问题</h3><p>通信良好，进程确不好，正如拜占庭的将军有叛徒的情况。</p>
<p>在这个问题中，红军还是在山谷中扎营，但是在附近的山上有n个带领部队的蓝军将领。通信是通过电话双向进行的，及时而且质量很好。但是有n个将军是叛徒(故障)，他们通过给忠诚的将军发送错误的和矛盾的信息(模拟故障进程)来阻止他们达成协议。现在问题在于忠诚的将军是否还能达成协议。 </p>
<p>Lamport采用递归算法来让无故障的进程达成协议。</p>
<p>N个进程，其中M个故障进程：只有当<strong>N&gt;=3m+1</strong>时，才能达成一致，即有三分之二的进程是正常的。</p>
<h3 id="3-两阶段提交"><a href="#3-两阶段提交" class="headerlink" title="3. 两阶段提交"></a>3. 两阶段提交</h3><p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System12.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System12-580x293.png" alt="Distributed System12"></a><br>状态机很能说明问题。</p>
<p>两个阶段：vote_commit and global_commit, 3(n-1)条消息</p>
<p>缺点：两阶段提交的一个问题在于当协调者崩溃时，参与者不能做出最后的决定。因此参与者可能在协调者恢复之前保持阻塞。</p>
<p>因此引入3PC，三阶段提交，但3PC实际中用的少，因为2PC阻塞情况很少出现。</p>
<h3 id="4-三阶段提交"><a href="#4-三阶段提交" class="headerlink" title="4. 三阶段提交"></a>4. 三阶段提交</h3><p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System13.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System13-580x302.png" alt="Distributed System13"></a><br>没有一个可以直接转换到Commit或者Abort状态的单独状态。</p>
<p>没有一个这样的状态：它不能做出最后决定，而且可以从它直接转换到Commit状态。 Commit之前需要经过PRCOMMIT状态。</p>
<p>三阶段：vote-commit, prepare-commit, global-commit</p>
<p>引入了PRECOMMIT状态。</p>
<ul>
<li>2PC：崩溃的参与者可能恢复到了Commit状态而所有参与者还处于Ready状态。在这种情况下，其余的可能操作进程不能做出最后的决定，不得不在崩溃的进程恢复之前阻塞。</li>
<li>在3PC中，只要有可操作的进程处于Ready状态，就没有崩溃的进程可以恢复到Init、Abort或Precommit之外的状态。因此存活进程总是可以做出的最后决定。当协调者崩溃，达到了预备提交阶段，在2PC中其他进程就会阻塞，但在3PC中，在预备提交阶段，即使没有协调者，也可以做出决定。</li>
</ul>
<h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part1/" title="分布式系统总结part1" target="_blank" rel="external">分布式系统总结part1 中间件，进程迁移，移动通信失效，名称解析，移动实体定位</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part2/" title="分布式系统总结part2" target="_blank" rel="external">分布式系统总结part2 Lamport同步与向量时间戳，两大选举算法，三大互斥算法</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part3/" title="分布式系统总结part3" target="_blank" rel="external">分布式系统总结part3 复制和一致性(以数据和以客户为中心的一致性)，容错（拜占庭将军问题，两阶段与三阶段提交）</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part4/" title="分布式系统总结part4" target="_blank" rel="external">分布式系统总结part4 Petri网解决哲学家问题和生产者、消费者问题</a></p>

            
          </div>
          <div class="archive-post-info">
            <time class="archive-post-time">
              2013-11-24
            </time>
            <a  class="archive-post-link" href="/2013/11/24/distributed-system-review-part3/">
              分布式系统总结part3
            </a>
          </div>
        </div>
      
        
          </section>
        
        <div class="archive-post">
          <div class="archive-post-content">
            
              <h3 id="Lamport逻辑和向量时间戳"><a href="#Lamport逻辑和向量时间戳" class="headerlink" title="Lamport逻辑和向量时间戳"></a>Lamport逻辑和向量时间戳</h3><p><strong>1.Lamport逻辑时钟</strong></p>
<p>Lamport认为，重要的不是所有进程在时间上完全一致，而是它们在事件的发生顺序上要达成一致。</p>
<p>先发生的定义： a → b 表示a在b之前发生，此时 C(a) &lt; C(b), a b可以是同一个进程中的两个事件或进程间的消息发送事件。并发事件没有先后关系。</p>
<p>Lamport算法：[more…]</p>
<ul>
<li>遵循事件的先发生关系，每个消息都应携带根据发送者时钟的发送时间，当消息到达并接收时，接收者时钟显示的时间比消息发送者时间早时，接收者就将时钟调到比发送者者的时间大1的值。</li>
<li>为了满足全局时间的需要：在每两个事件之间，时钟必须至少滴答一次，如果一个进程以相当快的速度发送或者接收两个消息，那么他得时钟必须在这之间至少滴答一次。</li>
<li>两个事件不会精确地同时发生</li>
</ul>
<p><strong>2.Lamport逻辑时钟的缺陷</strong></p>
<p>不能捕捉因果关系，而向量时间戳可以。</p>
<ul>
<li>Lamport时间戳导致分布式系统中所有事件都要经过排序以具有这样的关系：如果a发生在b之前， 那么C(a) &lt; C(b)</li>
<li>Lamport时间戳只能捕捉事件发生的先后关系，而不能捕捉因果关系。C(a) &lt; C(b)不能说明a事件发生在b事件之前。 因果关系需要通过向量时间戳来捕获。</li>
</ul>
<p><strong>3.向量时间戳</strong></p>
<p>因果关系：如果VT(a) &lt; VT(b) 则a在因果上处于事件b之前。向量时间戳是让每个进程P都维护一个向量V来完成，该向量的性质如下：</p>
<p>a)Vi[i]是到目前为止进程Pi发生的事件的数量。 </p>
<p>b)如果Vi[j]=k，那么进程Pi知道进程Pj中已经发生了k个事件</p>
<p>接收者可以通过消息m的时间戳知道其他进程中有多少事件发生在它之前，消息m在因果上可能依赖于这些事件。</p>
<p>当Pj收到消息m，调整自己的向量，将每项Vj[k]设置为<strong>max{Vj[k], vt[k]}</strong>, 然后  <strong>Vj[i]增加1</strong>。</p>
<p>需要会看图计算向量时间戳：<br><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System01.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System01-580x308.png" alt="Distributed System01"></a><br>向量时间戳中只有各个分量都是小于关系时存在因果关系，而平行关系是并发关系。</p>
<h3 id="选举算法"><a href="#选举算法" class="headerlink" title="选举算法"></a>选举算法</h3><p><strong>1. 欺负算法(Bully Algorithm)</strong></p>
<p>算法：当一个进程发现协调者不再响应请求时，它就发起一个选举：</p>
<p>P向所有编号比它大的进程发送一个election消息； </p>
<p>如果无人响应，P获胜成为协调者； </p>
<p>如果有编号比它大的进程响应，则响应者接管选举工作。P的工作完成。</p>
<p>当以前崩溃的进程恢复时，它将主持一次选举，如果该进程是当前正在运行的进程中进程号最大的，就成为协调者。</p>
<p>总之进程号最大的总是取胜。</p>
<p><strong>2.环算法——不使用令牌环</strong></p>
<p>假设进程按照物理和逻辑顺序进行了排序，那么每个进程就知道它的后继者是谁了。</p>
<p>当任何一个进程注意到协调者不工作时，它就构造一个带有它自己的进程号的election消息，并将该消息发送给它的后继者。</p>
<p>如果后继者崩溃了，发送者沿着此环跳过它的后继者发送给下一个进程，或者再下一个，直到找到一个正在运行进程。</p>
<p>在每一步中，发送者都将自己的进程号加到该消息列表中，以使自己成为协调者的候选人之一。 </p>
<p>最终，消息返回到发起此次选举的进程。当发起者进程接收到一个包含自己进程号的消息时，它识别出这个事件。此时，消息类型变成coordinator消息，并再一次绕环运行，向所有进程通知谁是协调者(成员列表中进程号最大的那个)以及新环中的成员都有谁。这个消息再循环一周后被删除，随后每个进程都恢复原来的工作。</p>
<h3 id="互斥算法"><a href="#互斥算法" class="headerlink" title="互斥算法"></a>互斥算法</h3><h4 id="1-集中式算法"><a href="#1-集中式算法" class="headerlink" title="1. 集中式算法"></a>1. 集中式算法</h4><p>(1).算法</p>
<p>选举一个进程作为协调者，如最大网络地址号的机器上的进程。</p>
<p>无论何时一个进程要进入临界区，它都要向协调者发送一个请求消息，说明它想要进入哪个临界区并请求允许。</p>
<p>如果没有进程在临界区就发送“允许”应答，该进程进入临界区，如果有进程在临界区，就把该消息放入请求队列，发送“拒绝请求”的应答。</p>
<p>当临界区中的进程退出临界区，向协调者发送“释放”消息，协调者会从请求队列中取出第一个进程，发送“允许”进入的消息。</p>
<p>(2)优点</p>
<p>实现了互斥，每个时刻，协调者只让一个进程进入临界区。</p>
<p>很公平，没有进程会永远阻塞，不会饥饿，不会死锁</p>
<p>容易实现，每使用一次临界区，只需要三条消息（请求，允许，释放）</p>
<p>可以管理临界区或更一般的资源<br>(3).缺点</p>
<p>协调者是单点故障，在规模较大的系统中，单个协调者会成为性能瓶颈.</p>
<p>如果进程在发出请求之后阻塞，那么请求者就不能区分“拒绝进入”和协调者已经崩溃的两种情况。</p>
<h4 id="2-分布式算法"><a href="#2-分布式算法" class="headerlink" title="2.分布式算法"></a>2.分布式算法</h4><p>1)Lamport算法</p>
<ul>
<li>当进程Si想进入临界区，向其他n-1个进程广播请求REQUEST(tsi, i), 并把请求放入自己请求队列request_queuei。</li>
<li>其他n-1个进程受到请求REQUEST(tsi, i)后，把该请求放入各自的请求队列request_queuej， 并向进程Si响应一个带时间戳的REPLY消息。</li>
<li><p>进程Si进入临界区，当且仅当满足以下两个条件：</p>
<pre><code>*   Si从其他进程收到的消息的时间戳都大于自己的请求时间戳(tsi, i)
</code></pre><ul>
<li>Si的请求是请求队列request_queuei的第一个请求</li>
</ul>
</li>
<li><p>当进程Si退出临界区：从请求队列request_queuei中删除该请求，并向其他n-1个进程广播一个带时间戳的释放临界区的消息。其他n-1个进程收到该消息后，从请求队列request_queuej中删除该请求</p>
</li>
</ul>
<p>在Lamport算法中，进程Request, REPLY, RELEASE一共发送了3(n-1)条消息，其实在一个接收者收到消息后，如果不同意Si进入临界区，没有必要再发送确认。<br>可以改进算法在2(n-1)到3(n-1)之间</p>
<p>2)Ricart和Agrwala算法，改进Lamport算法</p>
<ul>
<li>当一个进程想进入一个临界区时，它构造一个消息，其中包含它要进入的临界区的名字、它的进程号和当前时间。然后它将消息发送给所有其他的进程，理论上讲也包括它自己。</li>
<li>当一个进程接收到来自另一个进程的请求消息时，它根据自己与消息中的临界区相关的状态来决定它要采取的动作。可以分为三种情况：第一，若接收者不在临界区也不想进入临界区，它就向发送者发送一个OK消息。第二，若接收者已经在临界区，它不进行应答，而是将该请求放入队列中。第三，如果接收者想进入临界区但尚未进入时，它将对收到的消息的时间戳和包含在它发送给其余进程的消息中的时间戳进行比较。时间戳最早的那个进程获胜。如果收到的消息的时间戳比较早，那么接收者向发送者发回一个OK消息。如果它自己的消息的时间戳比较早，那么接收者将接收到的请求放入队列中，并且不发送任何消息。</li>
<li>在发送了请求进入临界区的请求消息后，进程进行等待，直到其他所有进程都发回OK消息为止。一旦得到所有进程的允许，它就可以进入临界区了。当它退出临界区时，它向其他队列中的所有进程发送OK消息，并将请求从队列中删除。（也就是说一个进程进入临界区的条件是收到了n-1个OK消息）</li>
</ul>
<p>算法优点：不会饥饿，死锁；每次进入临界区仅需要2(n-1)条消息；没有单点故障</p>
<p>算法缺点：第一，单点故障变成了n点故障，如果任何一个进程崩溃，不能应答OK，这种不应答被错误的解释为拒绝请求，阻塞了所有进程进入任何一个临界区。第二，网络通信开销多于集中式算法；第三，要么必须使用组通信原语，要么每个进程必须维护组成员清单；第四，要求所有进程参与做出与进入临界区有关的所有决定，强迫每个进程都承担这样的负载是不可能的，可以在得到大多数进程OK的情况下进入临界区，但实现复杂。</p>
<h4 id="3-令牌环算法"><a href="#3-令牌环算法" class="headerlink" title="3.令牌环算法"></a>3.令牌环算法</h4><p>(1)算法</p>
<ul>
<li>假设：总线式的网络中，进程没有固定的顺序，环中为每个进程分配了一个位置，每个进程都直到谁在它的下一个位置。</li>
<li>当环初始化时，进程0得到一个令牌token。该令牌绕着环运行，用点对点发送消息的方式把它从进程k传递到进程k+1(以环大小为模)。进程从它邻近的进程得到令牌后，检查自己是否要进入临界区。如果自己要进入临界区，那么它就进入临界区，做它要做的工作，然后离开临界区。在该进程退出临界区后，它沿着环继续传递令牌。不允许使用同一个令牌进入另一个临界区。</li>
<li>如果一个进程得到了邻近进程传来的令牌，但是它并不想进入临界区，那么它只是将令牌沿环往下传递。因而，当没有进程想进入临界区时，令牌就绕环高速传递。</li>
</ul>
<p>(2)优点</p>
<p>没有饥饿现象：任何时候都只有一个进程有令牌，并且令牌以固定的顺序循环传递。</p>
<p>(3)缺点</p>
<p>如果令牌丢失，必须重新生成令牌.</p>
<p>检测令牌丢失很困难，网络中令牌出现两次的时间间隔不确定，没有发现令牌可能是丢失，也可能是某个进程在占用。</p>
<p>如果有进程崩溃，该算法会有问题。(恢复方法： 要求每个进程维护进程环的配置信息， 每个进程收到令牌后发出确认信息，当它尝试把令牌传递给它的邻近进程时，如果没有收到确认，该进程就崩溃了，从组中删除该进程，继续传递令牌。)</p>
<h4 id="三种互斥算法的比较"><a href="#三种互斥算法的比较" class="headerlink" title="三种互斥算法的比较"></a>三种互斥算法的比较</h4><p>（1）程进入临界区，需要发送的消息数目不同</p>
<p>集中式算法: 3条消息，请求，允许，释放，简单而有效.</p>
<p>分布式算法：2(n-1)条</p>
<p>令牌环算法: 1~(n-1)条</p>
<p>（2）进入临界区之前的消息延迟不同<br>集中式算法: 2条消息，请求，允许。</p>
<p>分布式算法：2(n-1)条</p>
<p>令牌环算法: 0~(n-1)条</p>
<p>（3）三种算法在这三种算法在进程崩溃的情况下都损失惨重。为了避免进程崩溃造成的系统瘫痪，必须引入专门的措施和额外的复杂性。</p>
<h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part1/" title="分布式系统总结part1" target="_blank" rel="external">分布式系统总结part1 中间件，进程迁移，移动通信失效，名称解析，移动实体定位</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part2/" title="分布式系统总结part2" target="_blank" rel="external">分布式系统总结part2 Lamport同步与向量时间戳，两大选举算法，三大互斥算法</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part3/" title="分布式系统总结part3" target="_blank" rel="external">分布式系统总结part3 复制和一致性(以数据和以客户为中心的一致性)，容错（拜占庭将军问题，两阶段与三阶段提交）</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part4/" title="分布式系统总结part4" target="_blank" rel="external">分布式系统总结part4 Petri网解决哲学家问题和生产者、消费者问题</a></p>

            
          </div>
          <div class="archive-post-info">
            <time class="archive-post-time">
              2013-11-24
            </time>
            <a  class="archive-post-link" href="/2013/11/24/distributed-system-review-part2/">
              分布式系统总结part2
            </a>
          </div>
        </div>
      
        
          </section>
        
        <div class="archive-post">
          <div class="archive-post-content">
            
              <p>激动哥给了一些点，总结如下吧，算是对分布式的一些理解，希望对朋友们有帮助。</p>
<h3 id="分布式系统系统基本概念"><a href="#分布式系统系统基本概念" class="headerlink" title="分布式系统系统基本概念"></a>分布式系统系统基本概念</h3><p>分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像单个相关系统。透明性, 故障透明性。</p>
<p>本质： 硬件上——机器是物理上独立的。软件上——对用户来说它们就像载和单个系统打交道。分布式系统位于用户的应用层和底层操作系统之间，有时也叫做中间件.</p>
<p>分布式系统的目标：资源链接和共享，透明性，开放性，可伸缩性。[more…]</p>
<h3 id="分布式系统作为中间件技术"><a href="#分布式系统作为中间件技术" class="headerlink" title="分布式系统作为中间件技术"></a>分布式系统作为中间件技术</h3><ol>
<li><p>中间件在分布式系统中的位置</p>
<p>中间件：在应用系统和网络系统之间的附加的软件层，隐藏网络操作系统中低层平台集合的异构性，提供一组完整程度不同的服务集，提高分布的透明性。</p>
<p>中间件的最高目标是透明性。同时也具有开放性、可扩展性和易用性</p>
</li>
<li><p>中间件模型</p>
</li>
</ol>
<ul>
<li>基于分布式文件系统：任何东西都是作为文件来处理，只对传统文件支持分布的透明性，比网络操作系统前进了一小步，仍然要求进程显式启动分布式机器，有一定的扩展。</li>
<li>基于RPC：允许进程调用位于远程机器上的过程实现来隐藏网络通信。调用参数透明的传递到远程机器上，看起来就像在调用本地的进程一样，不知道网络通信的发生。</li>
<li>基于分布式对象: 调用分布在远程机器上的对象的接口，通过消息传递调用</li>
</ul>
<p>3.中间件通信技术</p>
<p>(1) RPC</p>
<p>使用客户端存根和服务器端存根，实现访问的透明性，按值传递，对引用传递的支持比较弱， 基于响应的暂时同步通信。</p>
<p>(2) RMI——远程对象调用</p>
<p>不使用用客户端存根和服务器端存根，使用针对对象的存根。本质上是RPC，但针对远程对象。</p>
<p>(3) MPI:面向消息的通信</p>
<p>RPC和RMI的不足：要求远程机器正在执行; 并且对同步要求高，客户在发出请求后阻塞</p>
<p>通信类型：持久通信，暂时通信；异步通信，同步通信； 两两正交共四种。</p>
<p>•持久异步通信：如邮件系统，消息队列</p>
<p>•持久同步通信</p>
<p>•暂时异步通信：如异步RPC，UDP</p>
<p>•暂时同步通信：基于接收的暂时同步通信：最弱的基于消息接收机制; 基于交付的暂时同步通信;基于响应的暂时同步通信： RMI， RPC。</p>
<p>MPI比套接字提供更多的抽象的消息传递原语，提供持久异步通信，用在RPC和RMI不适用的场合，它们主要用来协助将高度分散的数据库集成进大规模信息系统中。其他的应用还包括电子邮件和工作流。</p>
<p>(4)面向流的通信：</p>
<p>流是一种完全不同的通信方式，它的主要问题是两个连续的消息是否有时间上的联系。如音频流和视频流，同步很关键。</p>
<p>在连续数据流中，每个消息都规定了端到端的最大延迟时间。另外，发送的消息还要受端到端最小延迟时间的约束。</p>
<p>三种传输模式</p>
<p>异步传输模式：数据项是逐个传输的，但是对某一项在何时进行传输并没有进一步的限制。</p>
<p>同步传输模式：数据流中每一个单元都定义了一个端到端最大延迟时间。</p>
<p>等待传输模式：模式中数据单元必须按时传输，也就是数据传输的端到端延迟时间必须同时受到上限和下限的约束，实时系统。</p>
<h3 id="进程迁移"><a href="#进程迁移" class="headerlink" title="进程迁移"></a>进程迁移</h3><ol>
<li><p>弱迁移 vs 弱迁移</p>
<p>弱迁移：即代码的可移植性，只传输代码段以及某些初始化数据，传输过来的程序总是以初始状态重新开始执行，弱可迁移性只要求在目标机器上能执行该代码段，例如Java Applet小程序，这种方法的好处在于简单性。</p>
<p>强迁移：迁移执行中的进程，先停止运行中的进程，捕捉运行现场，迁移到另一台机器上，从中断处继续运行，强迁移比弱迁移实现难度大，例如D’Agent是支持强可移动性的一个例子(Dartmouth College)</p>
</li>
<li><p>发送者启动迁移 vs 接收者启动迁移</p>
<p>发送者启动迁移，代码或正在执行的进程在哪台机器上，就由该机器来启动迁移，例如向Web服务器发送搜索程序运行查询。这种迁移容易实现.</p>
<p>接收者启动迁移，代码迁移的主动权在目标机器手中，例如Java Applet</p>
<p>区别：接收者下载代码到客户端，性能好，安全性好，客户端只有少数的资源需要保护，如内存和网络连接等；</p>
<p>发送者启动迁移，上传代码到服务器端，需要认证用户，需要对服务器资源提供强保护。</p>
</li>
<li><p>在目标进程内执行迁移代码 vs 在派生进程内执行迁移代码</p>
</li>
</ol>
<p>三种方法相互正交，形成了8中进程迁移方法，如图：</p>
<p><a href="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System20.png" target="_blank" rel="external"><img src="http://cyanny/myblog/wp-content/uploads/2013/11/Distributed-System20-580x300.png" alt="Distributed System20"></a></p>
<h3 id="移动Agent的基本概念"><a href="#移动Agent的基本概念" class="headerlink" title="移动Agent的基本概念"></a>移动Agent的基本概念</h3><ol>
<li><p>定义：是一种分布式的应用，移动Agent是一个运行于开放、动态网络环境中的，封装良好的计算实体，可自主地在异构的网络上寻找合适的计算资源，然后移动到资源所在机器上使用这些资源，它代表用户自主地在网络上移动，完成指定的任务。移动Agent由数据、操作、行为规则 封装而成。</p>
</li>
<li><p>基本特点：</p>
</li>
</ol>
<ul>
<li>自主移动性：不拘泥于初始执行结点，可再网络各主机间自主移动。移动Agent可以将自身的状态和代码从一个环境迁移到另一个环境，并恢复执行。</li>
<li>协作性：移动Agent可以和其他Agent进行自主通信，协作完成任务。</li>
<li>安全性</li>
<li>移动功能而不移动数据，减少网络负担和延迟</li>
</ul>
<h3 id="Mogent解决移动通信失效"><a href="#Mogent解决移动通信失效" class="headerlink" title="Mogent解决移动通信失效"></a>Mogent解决移动通信失效</h3><p>1.移动通信失效定义</p>
<p>移动Agent最大的特性是移动性，其通信机制要求位置透明性，可靠性，高效性，异步性，自适应性。但在Agent自主移动过程中，常会导致消息发送到某一网络节点但接收者已经离开无法收到消息的情况，这种因为目标Agent的物理位置变化造成通信不正常的现象称为移动Agent通信失效。通信失效与网络和节点故障无关，完全是由Agent的移动性造成的，这是移动Agent协作的致命缺陷。</p>
<p>2. Mogent系统架构</p>
<p>一个完整的移动Agent通信协议至少包括Agent寻址和消息传送两大部分。Mogent系统采用结构化旅行计划模型。</p>
<p>Mogent的架构中有两个重要实体：</p>
<ul>
<li>Mogent： 即移动Agent，可以协同工作。</li>
<li>Host：一个物理节点的抽象，由IP地址或域名来标识，每一个Host安装MogentServer，维护管理本地的Mogent，主要由迁移子系统、通信子系统、安全子系统和开发监控子系统构成。</li>
</ul>
<p>3.Mogent系统的寻址</p>
<p>Mogent-Server中有两个部件Home和Communicator完成Agent的透明寻址。</p>
<p>Home：记录Host上“出生的”Agent的动态信息，Agent每次迁移到另一台Host必须向出生地登记当前的地址和物理名，基于起始位置的定位。</p>
<p>Communicator：记录当前Host上所有agent的信息，Agent迁移时要向Communicator register 和 unregister, 负责agent之间通信的目标寻址、信件转发和通信失效排除等通信细节。</p>
<p>4.通信失效的解决：消息传送</p>
<p><strong>通信失效问题本质上是通信和移动所共享的“位置”信息未同步造成的。</strong><br>Mogent系统中引入了“状态”的概念，每个Agent的状态分为迁移态和静止态。</p>
<p>同时引入两个信号量进行集中式同步控制策略，通过Home-Communicator集中管理对目标Mogent的地址信息的互斥访问，从根本上避免通信失效的发生，保证通信的可靠性。</p>
<ul>
<li>迁移状态：由Home构件记录Agent的状态，当Mogent在一个Host上时状态为静止态，当按旅行计划准备迁移时Mogent要通知Home更新状态为迁移态。</li>
<li>在途信件数：保存在Host上，记录当前时刻以该Mogent为通信对象的在途信件数，发出信件，在途信件数增加，信件到达，在途信件数减一</li>
</ul>
<p>消息发送机制：Mogent通过控制“在途信件数”和“迁移状态”这两个信号量，确保消息发送者仅向处于静止状态的Agent发送消息</p>
<p>Mogent迁移机制：Agent只有在没有消息发送给他的情况下才能移动。</p>
<p>5.Mogent局限性</p>
<ul>
<li>频繁迁移，Home的地址注册开销大，会拥挤</li>
<li>Agent迁移受到信号量的限制,影响Agent的自主性和移动性</li>
</ul>
<h3 id="两种名称解析方法-递归和迭代"><a href="#两种名称解析方法-递归和迭代" class="headerlink" title="两种名称解析方法:递归和迭代"></a>两种名称解析方法:递归和迭代</h3><p>分布式系统中名称用来标识一个实体，有三种类型——名称、标识符、地址，名称解析就是查询名称的过程。</p>
<p>1.迭代名称解析</p>
<p>客户端把需要解析的名称路径发给根服务器root，根服务器解析出下一个服务器server1的地址返回给客户端，客户端再查询server1，server1再解析出server2的地址…</p>
<p>如此迭代直到能解析出所需实体的地址。例如：考虑绝对路径名：root:&lt;nl, vu, cs, ftp, pub, globe, index.txt&gt;的解析，第四章PPT上有详细的说明</p>
<p>总之迭代名称解析是客户端发起迭代查询。</p>
<p>2.递归名称解析</p>
<p>客户端把需要解析的名称路径发给根服务器root，根服务器解析出server1的地址后，不把结果返回给客户端，直接把名称传给server1，由server1解析后，再传给server2…不断递归，最后将解析出的实体地址返回给根服务器，根服务器再将实体地址返回给客户端。</p>
<p>3.两种解析的比较<br>递归名称解析的缺陷：要求每台服务器具有较高的性能，根服务器要完成完整的名称解析，开销较大，一般在名称空间的全局层中，采用迭代名称解析。</p>
<p>优点：与迭代名称解析相比，递归解析可以有效的使用缓存提高性能；减少了通信开销，通信开销取决于客户主机和服务器之间的信息交换。</p>
<p>而在DNS解析中：从客户机到本地DNS的查询是递归查询，从本地DNS到到其他DNS服务器之间的查询是迭代查询</p>
<h3 id="移动实体的定位"><a href="#移动实体的定位" class="headerlink" title="移动实体的定位"></a>移动实体的定位</h3><p>移动实体的定位方法：使用与位置无关的标识符有效地实现定位。</p>
<p><strong>1.广播和多播</strong></p>
<p><strong>原理：</strong>包含该实体所用标识符的消息会广播到每台机器上，并且请求每台机器查看它是否拥有该实体。只有能够为实体提供访问点的机器才会发送回复消息，回复消息中包含访问点的地址。类比ARP</p>
<p><strong>缺点：</strong>扩展性不好，随着网络的膨胀，广播变得更加低效。</p>
<p>可以采用多播向特定的一组主机发送标识符，使用多播查找最近的复制实体，但实践证明，选择最近的复制实体没有那么容易。</p>
<p><strong>2.转发指针</strong></p>
<p><strong>原理：</strong>每当一个实体转移到另一个位置时，他就会留下一个指针，说明它下一步所在的位置。 例如：当实体从A移动到B时，它将在A中留下一个指针，这个指针指向它在B中的新位置。</p>
<p>定位实体需要遍历转发指针形成的路线。为了避免形成太长的指针链，定期缩短指针链很重要。</p>
<p><strong>优点：</strong>简便，一旦找到一个实体，就可以顺着转发指针链查找到实体当前的地址。</p>
<p><strong>缺点：</strong>链可能特别长，定位实体的开销较大。链很脆弱，容易断开，只要一个转发指针丢失，就无法定位实体。一个解决办法是让指针链相对短一些，确保转发指针链的健壮性。<br>链中所有中间位置就必须维护它们的那一部分指针链。</p>
<p><strong>3.基于起始位置的方法</strong></p>
<p><strong>原理：</strong>每当实体转移到一个地方时，他会通知起始位置，告诉起始位置自己当前的位置，在定位实体时，首先询问起始位置，以便了解实体的当前位置。起始位置就是创建实体的位置。</p>
<p><strong>优点：</strong>大型网络中进行实体定位,如Mogent</p>
<p><strong>缺点：</strong>为了与移动实体通信，需要先和起始位置通信，而起始位置和实体本身的位置处于完全不同的位置，增加了通信延迟。    使用起始位置，必须保证起始位置始终存在，否则将无法定位实体。起始位置如果转移到另一个网络，将会无法定位实体。一种解决的办法是：注册起始位置，客户先查找起始位置所在的位置，起始位置相对稳定，可以缓存它。</p>
<p><strong>4.分层方法——创建一颗搜索树</strong></p>
<p><strong>原理：</strong> 网络划分成不重叠的分层域。只有一个顶级域，它覆盖了整个网络，每个域又可以划分为更多的子域。最低层的域叫做叶域，与网络中的局域网向对应。</p>
<p>每个层次的每个域都有关联的目录节点，目录节点会持续跟踪实体，形成目录节点树。</p>
<p>顶级域拥有每个实体的位置记录(指针)，其中每条位置记录都存储一个指向更低层子域目录节点的指针 </p>
<p><strong>优点：</strong>查询操作是在局部进行，最差情况下，搜索会从叶域一直查到根域，再从根域到达包括该实体地址的子域。更新，插入和删除操作是局部进行：从叶节点到根节点。</p>
<p><strong>缺点：</strong>第一， 定位实体的开销较大，从叶节点到根节点，再到叶节点。一种解决方法是采用指针缓存。第二，扩展性问题： 根节点需要存储所有实体的位置记录, 并为每个实体处理请求， 太多的查询和更新请求会成为瓶颈。解决办法是把根节点和其他高层目录节点划分成多个子节点，每个子节点处理实体的定位请求。<br>这些子节点最好均匀的扩散到网络中</p>
<h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part1/" title="分布式系统总结part1" target="_blank" rel="external">分布式系统总结part1 中间件，进程迁移，移动通信失效，名称解析，移动实体定位</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part2/" title="分布式系统总结part2" target="_blank" rel="external">分布式系统总结part2 Lamport同步与向量时间戳，两大选举算法，三大互斥算法</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part3/" title="分布式系统总结part3" target="_blank" rel="external">分布式系统总结part3 复制和一致性(以数据和以客户为中心的一致性)，容错（拜占庭将军问题，两阶段与三阶段提交）</a></p>
<p><a href="http://cyanny/myblog/2013/11/24/distributed-system-review-part4/" title="分布式系统总结part4" target="_blank" rel="external">分布式系统总结part4 Petri网解决哲学家问题和生产者、消费者问题</a></p>

            
          </div>
          <div class="archive-post-info">
            <time class="archive-post-time">
              2013-11-24
            </time>
            <a  class="archive-post-link" href="/2013/11/24/distributed-system-review-part1/">
              分布式系统总结part1
            </a>
          </div>
        </div>
      
      
        </section></section>
      
  </div>
  
  <nav class="pagination">
      <span class="page-number current">1</span>
  </nav>




        </div>
      </main>
      <footer class="footer syuanpi fadeIn" id="footer">
  <hr>
  <div class="footer-wrapper">
    <div class="left">
      <div class="contact-icon">
  
  
    <a href="https://www.facebook.com/" class="iconfont icon-facebook" title="facebook"></a>
  
    <a href="https://twitter.com/" class="iconfont icon-twitter" title="twitter"></a>
  
    <a href="https://www.instagram.com/" class="iconfont icon-instagram" title="instagram"></a>
  
    <a href="https://weibo.com/" class="iconfont icon-weibo" title="weibo"></a>
  
    <a href="https://www.zhihu.com/people/" class="iconfont icon-zhihu" title="zhihu"></a>
  
    <a href="https://github.com/https://github.com/lgrcyanny/" class="iconfont icon-github" title="github"></a>
  
    <a href="https://www.linkedin.com/in/" class="iconfont icon-linkedin" title="linkedin"></a>
  
    <a href="https://www.douban.com/people/" class="iconfont icon-douban" title="douban"></a>
  
    <a href="https://medium.com/" class="iconfont icon-medium" title="medium"></a>
  
    <a href="https://www.yuque.com/" class="iconfont icon-yuque" title="yuque"></a>
  
</div>

    </div>
    <div class="right">
      <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>2010 ~ 2020</span>
        <span>❤</span>
        <span>Cyanny Liang</span>
    </div>
    <div class="theme">
        <span>
            Powered by
            <a href="http://hexo.io/" target="_blank" rel="noopener">Hexo </a>
        </span>
        <span>
            Theme
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
    <div class="visit_count">
        <i class="iconfont icon-eye"></i>
        <span id="busuanzi_value_site_uv"></span>
        <i class="iconfont icon-team"></i>
        <span id="busuanzi_value_site_pv"></span>
    </div>
    
</div>

    </div>
  </div>
</footer>
    </div>
    <div class="tagcloud" id="tagcloud">
  <div class="tagcloud-taglist">
  
    <div class="tagcloud-tag">
      <button>Agile</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Algorithm</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Akka</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Scala</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Language</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Machine Learning</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>诗话</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Learning</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>apache storm</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>spark streaming</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Spark</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>spark</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>machine learning</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>learning</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>algorithm</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>java performance</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>math</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>JavaScript</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Resource</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Hadoop</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Research</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Big Data</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>HBase</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>MapReduce</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Hive</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Linux</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>VPS</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>nodejs</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>sort</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Network</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Node.js</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Learn</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>life</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Design</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>SystemAnalysis</button>
    </div>
  
    <div class="tagcloud-tag">
      <button>Methodology</button>
    </div>
  
  </div>
  
    <div class="tagcloud-postlist active">
      <h2>Agile</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/01/agile-advantages-and-disadvantages/">
            <time class="tagcloud-posttime">2013 / 11 / 01</time>
            <span>“吐槽”敏捷软件开发</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Algorithm</h2>
      
        <div class="tagcloud-post">
          <a href="/2015/05/04/bitsort-ant-qsort/">
            <time class="tagcloud-posttime">2015 / 05 / 04</time>
            <span>位排序和快排</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2016/09/27/eight-queens-problem-in-scala/">
            <time class="tagcloud-posttime">2016 / 09 / 27</time>
            <span>Eight Queens Problem In Scala</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2017/02/21/binary-search-algorithm/">
            <time class="tagcloud-posttime">2017 / 02 / 21</time>
            <span>binary search algorithm in scala</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Akka</h2>
      
        <div class="tagcloud-post">
          <a href="/2015/10/07/learning-akka/">
            <time class="tagcloud-posttime">2015 / 10 / 07</time>
            <span>Learning Akka</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Scala</h2>
      
        <div class="tagcloud-post">
          <a href="/2015/10/07/learning-akka/">
            <time class="tagcloud-posttime">2015 / 10 / 07</time>
            <span>Learning Akka</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2016/03/06/programming-in-scala-overview-key-note/">
            <time class="tagcloud-posttime">2016 / 03 / 06</time>
            <span>Programming In Scala Overview Key Note</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2016/09/27/eight-queens-problem-in-scala/">
            <time class="tagcloud-posttime">2016 / 09 / 27</time>
            <span>Eight Queens Problem In Scala</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2016/11/07/scala-collections/">
            <time class="tagcloud-posttime">2016 / 11 / 07</time>
            <span>Scala Collections</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Language</h2>
      
        <div class="tagcloud-post">
          <a href="/2016/03/06/programming-in-scala-overview-key-note/">
            <time class="tagcloud-posttime">2016 / 03 / 06</time>
            <span>Programming In Scala Overview Key Note</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Machine Learning</h2>
      
        <div class="tagcloud-post">
          <a href="/2016/04/04/machine-learning-linear-regression/">
            <time class="tagcloud-posttime">2016 / 04 / 04</time>
            <span>Machine Learning Linear Regression</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2016/04/17/machine-learning-neural-networks/">
            <time class="tagcloud-posttime">2016 / 04 / 17</time>
            <span>Machine Learning Neural Networks</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2017/03/25/machine-learning-logistic-regression/">
            <time class="tagcloud-posttime">2017 / 03 / 25</time>
            <span>Machine Learning Logistic Regression</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>诗话</h2>
      
        <div class="tagcloud-post">
          <a href="/2016/09/27/春江花月夜/">
            <time class="tagcloud-posttime">2016 / 09 / 27</time>
            <span>春江花月夜</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Learning</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/01/22/booklist-for-2017/">
            <time class="tagcloud-posttime">2017 / 01 / 22</time>
            <span>My Booklist and Reservations for 2017</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/24/distributed-system-review-part1/">
            <time class="tagcloud-posttime">2013 / 11 / 24</time>
            <span>分布式系统总结part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/24/distributed-system-review-part2/">
            <time class="tagcloud-posttime">2013 / 11 / 24</time>
            <span>分布式系统总结part2</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/24/distributed-system-review-part3/">
            <time class="tagcloud-posttime">2013 / 11 / 24</time>
            <span>分布式系统总结part3</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/24/distributed-system-review-part4/">
            <time class="tagcloud-posttime">2013 / 11 / 24</time>
            <span>分布式系统总结part4</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/10/03/e7-bb-9f-e8-ae-a1-e5-ad-a6-e7-9a-84-e5-9f-ba-e6-9c-ac-e6-a6-82-e5-bf-b5-e5-92-8c-e6-96-b9-e6-b3-95/">
            <time class="tagcloud-posttime">2013 / 10 / 03</time>
            <span>统计学的基本概念和方法</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/05/25/good-resources-for-js-learning/">
            <time class="tagcloud-posttime">2013 / 05 / 25</time>
            <span>Good Resources for JavaScript</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-federation/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Federation </span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-high-availability/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS High Availability(HA)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-review/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Review</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-isnt-silver-bullet/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop isn’t Silver Bullet</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-1-framework/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 1 Framework</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-2-yarn/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 2 (YARN)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-overview/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop Overview</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/10/how-to-start-learning-node-js/">
            <time class="tagcloud-posttime">2013 / 11 / 10</time>
            <span>How to start learning Node.js</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/13/ipsec-architecture/">
            <time class="tagcloud-posttime">2013 / 11 / 13</time>
            <span>IPsec之IP层安全架构</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/08/10/learning-heap-sort/">
            <time class="tagcloud-posttime">2013 / 08 / 10</time>
            <span>再叙堆排序</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/09/12/select-second-smallest-element/">
            <time class="tagcloud-posttime">2013 / 09 / 12</time>
            <span>找一个数组中第2小的元素</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/06/set-hadoop-hbase-part1/">
            <time class="tagcloud-posttime">2014 / 02 / 06</time>
            <span>Set up Hadoop 2.2 and HBase 0.96 part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part1/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part2/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part2</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part3/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part3</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part4/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part4</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/10/06/talk-about-open-source-software/">
            <time class="tagcloud-posttime">2013 / 10 / 06</time>
            <span>谈谈开源软件，谈谈质量</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/09/09/warshall-algorithm-cycle-dectection/">
            <time class="tagcloud-posttime">2013 / 09 / 09</time>
            <span>Warshall's Algorithm for Cycle Dectection</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>apache storm</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/04/10/set-up-storm-on-mac-in-10min/">
            <time class="tagcloud-posttime">2017 / 04 / 10</time>
            <span>Set Up Apache Storm On Mac In 10min</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>spark streaming</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/08/27/spark-streaming-exactly-once-analysis/">
            <time class="tagcloud-posttime">2017 / 08 / 27</time>
            <span>spark streaming exactly-once analysis</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Spark</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/08/30/my-first-commit-to-spark-community/">
            <time class="tagcloud-posttime">2017 / 08 / 30</time>
            <span>My First Commit to Spark Community</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>spark</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/09/15/spark-use-scala-udf-udaf-in-pyspark/">
            <time class="tagcloud-posttime">2017 / 09 / 15</time>
            <span>How to Use Scala UDF and UDAF in PySpark</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>machine learning</h2>
      
        <div class="tagcloud-post">
          <a href="/2017/12/29/ppmml-publish/">
            <time class="tagcloud-posttime">2017 / 12 / 29</time>
            <span>ppmml publish today</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>learning</h2>
      
        <div class="tagcloud-post">
          <a href="/2018/01/20/great-books-for-2018/">
            <time class="tagcloud-posttime">2018 / 01 / 20</time>
            <span>Awesome Books for 2018</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2018/07/16/big-data-expert/">
            <time class="tagcloud-posttime">2018 / 07 / 16</time>
            <span>Big Data And ML Learning</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>algorithm</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/04/12/dijkstra-algorithm-in-java/">
            <time class="tagcloud-posttime">2014 / 04 / 12</time>
            <span>Dijkstra Algorithm</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2015/04/03/find-median-for-two-sorted-array/">
            <time class="tagcloud-posttime">2015 / 04 / 03</time>
            <span>查找两个排序数组的中位数</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/02/graph-dfs-bfs/">
            <time class="tagcloud-posttime">2013 / 12 / 02</time>
            <span>Graph DFS and BFS</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/08/10/learning-heap-sort/">
            <time class="tagcloud-posttime">2013 / 08 / 10</time>
            <span>再叙堆排序</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/09/12/select-second-smallest-element/">
            <time class="tagcloud-posttime">2013 / 09 / 12</time>
            <span>找一个数组中第2小的元素</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/08/18/the-usage-of-counting-sort/">
            <time class="tagcloud-posttime">2013 / 08 / 18</time>
            <span>计数排序的应用</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/09/09/warshall-algorithm-cycle-dectection/">
            <time class="tagcloud-posttime">2013 / 09 / 09</time>
            <span>Warshall's Algorithm for Cycle Dectection</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>java performance</h2>
      
        <div class="tagcloud-post">
          <a href="/2018/08/04/java-performance-notes-monitoring-tools/">
            <time class="tagcloud-posttime">2018 / 08 / 04</time>
            <span>Java Performance Toolbox</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>math</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/10/03/e7-bb-9f-e8-ae-a1-e5-ad-a6-e7-9a-84-e5-9f-ba-e6-9c-ac-e6-a6-82-e5-bf-b5-e5-92-8c-e6-96-b9-e6-b3-95/">
            <time class="tagcloud-posttime">2013 / 10 / 03</time>
            <span>统计学的基本概念和方法</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>JavaScript</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/05/25/good-resources-for-js-learning/">
            <time class="tagcloud-posttime">2013 / 05 / 25</time>
            <span>Good Resources for JavaScript</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Resource</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/05/25/good-resources-for-js-learning/">
            <time class="tagcloud-posttime">2013 / 05 / 25</time>
            <span>Good Resources for JavaScript</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Hadoop</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-federation/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Federation </span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-high-availability/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS High Availability(HA)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-review/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Review</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-isnt-silver-bullet/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop isn’t Silver Bullet</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-1-framework/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 1 Framework</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-2-yarn/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 2 (YARN)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-overview/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop Overview</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part-3-pros-cons/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part 3 Pros and Cons</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part1-logical-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part1(Logical Architecture)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part2-process-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part2(Process Architecture)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/20/hbase-mapreduce-e6-8e-92-e5-ba-8f-secondary-sort/">
            <time class="tagcloud-posttime">2014 / 03 / 20</time>
            <span>HBase MapReduce排序Secondary Sort</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/08/16/hive-architecture/">
            <time class="tagcloud-posttime">2014 / 08 / 16</time>
            <span>Hive架构笔记</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/27/nodejs-hbase-hadoop2-thrift2-e9-85-8d-e7-bd-ae-e4-b8-8e-e4-bd-bf-e7-94-a8/">
            <time class="tagcloud-posttime">2014 / 02 / 27</time>
            <span>Nodejs HBase0.96 Hadoop2.2.0 Thrift2配置与使用</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/06/set-hadoop-hbase-part1/">
            <time class="tagcloud-posttime">2014 / 02 / 06</time>
            <span>Set up Hadoop 2.2 and HBase 0.96 part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/06/set-hadoop-hbase-part2/">
            <time class="tagcloud-posttime">2014 / 02 / 06</time>
            <span>Set up Hadoop 2.2 and HBase 0.96 part2</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Research</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-federation/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Federation </span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-high-availability/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS High Availability(HA)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-hdfs-review/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop HDFS Review</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-isnt-silver-bullet/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop isn’t Silver Bullet</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-1-framework/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 1 Framework</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-mapreduce-2-yarn/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop MapReduce 2 (YARN)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/12/05/hadoop-overview/">
            <time class="tagcloud-posttime">2013 / 12 / 05</time>
            <span>Hadoop Overview</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Big Data</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part-3-pros-cons/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part 3 Pros and Cons</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part1-logical-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part1(Logical Architecture)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part2-process-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part2(Process Architecture)</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>HBase</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part-3-pros-cons/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part 3 Pros and Cons</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part1-logical-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part1(Logical Architecture)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/13/hbase-architecture-analysis-part2-process-architecture/">
            <time class="tagcloud-posttime">2014 / 03 / 13</time>
            <span>HBase Architecture Analysis Part2(Process Architecture)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/03/20/hbase-mapreduce-e6-8e-92-e5-ba-8f-secondary-sort/">
            <time class="tagcloud-posttime">2014 / 03 / 20</time>
            <span>HBase MapReduce排序Secondary Sort</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/27/nodejs-hbase-hadoop2-thrift2-e9-85-8d-e7-bd-ae-e4-b8-8e-e4-bd-bf-e7-94-a8/">
            <time class="tagcloud-posttime">2014 / 02 / 27</time>
            <span>Nodejs HBase0.96 Hadoop2.2.0 Thrift2配置与使用</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/06/set-hadoop-hbase-part1/">
            <time class="tagcloud-posttime">2014 / 02 / 06</time>
            <span>Set up Hadoop 2.2 and HBase 0.96 part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2014/02/06/set-hadoop-hbase-part2/">
            <time class="tagcloud-posttime">2014 / 02 / 06</time>
            <span>Set up Hadoop 2.2 and HBase 0.96 part2</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>MapReduce</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/03/20/hbase-mapreduce-e6-8e-92-e5-ba-8f-secondary-sort/">
            <time class="tagcloud-posttime">2014 / 03 / 20</time>
            <span>HBase MapReduce排序Secondary Sort</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Hive</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/08/16/hive-architecture/">
            <time class="tagcloud-posttime">2014 / 08 / 16</time>
            <span>Hive架构笔记</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Linux</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/11/how-to-set-up-vps-and-deploy-wordpress-blog-1/">
            <time class="tagcloud-posttime">2013 / 11 / 11</time>
            <span>如何配置VPS并发布WordPress Blog?(第一篇)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/11/how-to-set-up-vps-and-deploy-wordpress-blog-2/">
            <time class="tagcloud-posttime">2013 / 11 / 11</time>
            <span>如何配置VPS并发布WordPress Blog?(第二篇)</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>VPS</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/11/how-to-set-up-vps-and-deploy-wordpress-blog-1/">
            <time class="tagcloud-posttime">2013 / 11 / 11</time>
            <span>如何配置VPS并发布WordPress Blog?(第一篇)</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/11/how-to-set-up-vps-and-deploy-wordpress-blog-2/">
            <time class="tagcloud-posttime">2013 / 11 / 11</time>
            <span>如何配置VPS并发布WordPress Blog?(第二篇)</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>nodejs</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/10/how-to-start-learning-node-js/">
            <time class="tagcloud-posttime">2013 / 11 / 10</time>
            <span>How to start learning Node.js</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>sort</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/08/10/learning-heap-sort/">
            <time class="tagcloud-posttime">2013 / 08 / 10</time>
            <span>再叙堆排序</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/08/18/the-usage-of-counting-sort/">
            <time class="tagcloud-posttime">2013 / 08 / 18</time>
            <span>计数排序的应用</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Network</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/16/netkit-filesystem-custom-cutting/">
            <time class="tagcloud-posttime">2013 / 11 / 16</time>
            <span>Netkit Filesystem 定制和裁剪</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Node.js</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/12/18/node-express-mysql-scaffolding/">
            <time class="tagcloud-posttime">2013 / 12 / 18</time>
            <span>Node Express Mysql Scaffolding</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Learn</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/02/27/nodejs-hbase-hadoop2-thrift2-e9-85-8d-e7-bd-ae-e4-b8-8e-e4-bd-bf-e7-94-a8/">
            <time class="tagcloud-posttime">2014 / 02 / 27</time>
            <span>Nodejs HBase0.96 Hadoop2.2.0 Thrift2配置与使用</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>life</h2>
      
        <div class="tagcloud-post">
          <a href="/2014/02/27/revolution-e9-9d-a2-e5-90-91-e5-af-b9-e8-b1-a1-e7-9c-8b-e9-bb-91-e5-ae-a2-e5-b8-9d-e5-9b-bd/">
            <time class="tagcloud-posttime">2014 / 02 / 27</time>
            <span>Revolution——面向对象看黑客帝国</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Design</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part1/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part2/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part2</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part3/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part3</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part4/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part4</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>SystemAnalysis</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part1/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part1</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part2/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part2</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part3/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part3</span>
          </a>
        </div>
      
        <div class="tagcloud-post">
          <a href="/2013/11/27/system-analysis-design-kenneth-kendall-review-part4/">
            <time class="tagcloud-posttime">2013 / 11 / 27</time>
            <span>System Analysis and Design (Kenneth Kendall) Review Part4</span>
          </a>
        </div>
      
    </div>
  
    <div class="tagcloud-postlist ">
      <h2>Methodology</h2>
      
        <div class="tagcloud-post">
          <a href="/2013/10/06/talk-about-open-source-software/">
            <time class="tagcloud-posttime">2013 / 10 / 06</time>
            <span>谈谈开源软件，谈谈质量</span>
          </a>
        </div>
      
    </div>
  
</div>

  </div>
  <div class="backtop syuanpi melt toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>

  <div class="search" id="search">
    <div class="input">
      <input type="text" id="search-input" placeholder="Try it out" autofocus>
    </div>
    <div id="search-result"></div>
  </div>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>


  <script></script>
  <script src="/script/lib/lightbox/js/lightbox.min.js" async></script>



  <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.7/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config;executed=true">MathJax.Hub.Config({tex2jax: {inlineMath: [["$","$"], ["\\(","\\)"]]}});</script>





  <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.1/lazysizes.min.js" async></script>





  <script src="/script/scheme/banderole.js"></script>


<script src="/script/bootstarp.js"></script>




</body>
</html>
